<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>24-京东放大镜</title>
    <style>
        .box {
            border: 1px solid grey;
            width: 500px;
            height: 500px;

            margin: 0;

            position: relative;
            overflow: hidden;

            display: inline-block;


            vertical-align: top;






        }


        .y {
            width: 300px;
            height: 300px;
            background: rgba(195, 176, 145, 0.4);
            position: absolute;
            cursor: move;
            /* border: 1px solid; */

            /* visibility: hidden; */

        }

        .img1 {
            height: 500px;
            position: absolute;

            left: 50%;
            transform: translateX(-50%);
        }






        .box1 {
            width: 1000px;
            height: 1000px;
            /* border: 1px solid grey; */

            position: relative;
            overflow: hidden;






        }




        .show {
            width: 600px;
            height: 600px;

            border: 1px solid grey;
            /* margin-left: 100px; */
            display: inline-block;

            overflow: hidden;
            vertical-align: top;
            visibility: hidden;
        }
    </style>
</head>

<body>
    <div class="box">
        <img src="img/phone.png" class="img1">
        <div class="y"></div>
    </div>

    <div class="show">
        <div class="box1">
            <img src="img/phone.png" style="height:1000px;position:absolute;left: 50%;transform: translateX(-50%);"id="i">
        </div>
    </div>

    <script>
        var box = document.querySelector('.box');
        var y = document.querySelector('.y');
        var show = document.querySelector('.show');
        var box1 = document.querySelector('.box1');
        var i = document.querySelector('#i');



        box.addEventListener('mousemove', function (e) {
            // console.log(e);
            // console.log(y.style);

            // console.log(box.offsetWidth/2,box.offsetHeight/2);

            var x1 = e.pageX - this.offsetLeft - y.offsetWidth / 2 + 'px';
            var y1 = e.pageY - this.offsetTop - y.offsetHeight / 2 + 'px';

            // console.log(this.offsetLeft + y.offsetWidth / 2, this.offsetTop + y.offsetHeight / 2);

            y.style.left = x1;
            y.style.top = y1


            y.style.visibility = 'visible';
            show.style.visibility = 'visible'

            box1.style.left = 2 * (this.offsetLeft + y.offsetWidth / 2) - 2 * e.pageX + 'px';
            box1.style.top = 2 * (this.offsetTop + y.offsetHeight / 2) - 2 * e.pageY + 'px';

            // box1.style.left = 1000 - 2 * (e.pageX + 350) + 'px';
            // box1.style.top = 1000 - 2 * (e.pageY + 340) + 'px';

            // console.log(i.style.left,i.style.top);
            // console.log(y.style.left,y.style.top);
        })
        box.addEventListener('mouseleave', function (e) {
            y.style.visibility = 'hidden'
            show.style.visibility = 'hidden'

        })

    </script>
</body>

</html>