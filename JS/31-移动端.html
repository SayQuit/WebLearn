<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>31-移动端</title>
</head>
<style>
    .box {
        background-color: lightblue;
        width: 100px;
        height: 100px;
        /* margin-top: 100px; */
    }

    .abs {
        position: absolute;
        background-color: lightcoral;

    }
</style>

<body>
    

    <div id="tuodon" class="box abs"></div>
    <div id="touch" class="box"></div>
    <script>
        var touch = document.getElementById('touch');
        var tuodon = document.getElementById('tuodon');

        touch.addEventListener('touchstart', function (e) {
            console.log('start', e);
            console.log('touches', e.touches);
            console.log('targetTouches', e.targetTouches);
            console.log('changedTouches', e.changedTouches);

        })
        touch.addEventListener('touchmove', function (e) {
            console.log('move', e);
        })
        touch.addEventListener('touchend', function (e) {
            console.log('end', e);
        })



        var startX = 0;
        var endX = 0;
        var startY = 0;
        var endY = 0;
        
        var x=0;
        var y=0;


        tuodon.addEventListener('touchstart', function (e) {
            // console.log(e.targetTouches[0].pageX, e.targetTouches[0].pageY);
            startX = e.targetTouches[0].pageX;
            startY = e.targetTouches[0].pageY;
            x=this.offsetLeft;
            y=this.offsetTop;
        })
        tuodon.addEventListener('touchmove', function (e) {
            // console.log(e.targetTouches[0].pageX, e.targetTouches[0].pageY);
            endX = e.targetTouches[0].pageX;
            endY = e.targetTouches[0].pageY;
            // this.style.left = this.offsetLeft + (endX - startX) + 'px'
            // this.style.top = this.offsetTop + (endY - startY) + 'px'
            // startX = e.targetTouches[0].pageX;
            // startY = e.targetTouches[0].pageY;
            this.style.left = x + (endX - startX) + 'px'
            this.style.top = y + (endY - startY) + 'px'
        })
        tuodon.addEventListener('touchend', function (e) {
            console.log((endX - startX), (endY - startY));
            
        })


    </script>
</body>

</html>